<!Doctype html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Document</title>
<style type="text/css">
*{
	margin:0;
	padding: 0;
	font-family:STLiti;
}
#box{
	width: 400px;
	height: 500px;
	margin: 50px auto;
	position: relative;
	border: 1px solid #000;
	border-radius: 10px;
	background-color: #ccc;
}
#surplus{
	position: absolute;
	left: 20px;
	top: 10px;
	font-size: 32px;
}
#score{
	position: absolute;
	top: 10px;
	right: 40px;
	font-size: 32px;
}
#show{
	font-size: 120px;
	top: 90px;
	left: 140px;
	position: absolute;
}
#instructions{
	position: absolute;
	top:220px;
	padding: 30px;
	font-size: 26px;
}
#colorExample{
	position: absolute;
	left: 0;
	bottom: 0;
	list-style: none;
}
#colorExample li{
	float: left;
	font-size: 80px;
}
</style>
</head>
<body>
	<div id="box">
		<div id="surplus">å€’è®¡æ—¶ï¼š30s</div>
		<div id="score">åˆ†æ•°</div>
		<div id="show">å±•ç¤ºæ–‡å­—</div>
		<div id="instructions">
			<p> åœ¨ä»¥ä¸‹é€‰é¡¹ä¸­ï¼Œé€‰æ‹©ä¸Šé¢å­—çš„é¢œè‰²ï¼Œæ­£ç¡®è‡ªåŠ¨å¼€å§‹<br>&nbsp;&nbsp;psï¼šæœ‰å½©è›‹ï¼Are you ready?</p>
			
		</div>
		<ul id="colorExample">
			<li>ç™½</li>
			<li>è“</li>
			<li>é»‘</li>
			<li>é»„</li>
			<li>çº¢</li>
		</ul>
	</div>
</body>
<script type="text/javascript">
	var show = document.getElementById("show");
	var aLi  = document.getElementsByTagName("li");
	var instructions = document.getElementById("instructions");
	var score = document.getElementById("score");
	var surplus = document.getElementById("surplus");
	//å®šä¹‰é¢œè‰²æ•°ç»„
	var colors = ["red","yellow","blue","white","black"];
	var fonts = ["çº¢","é»„","è“","ç™½","é»‘"];
	
	var num = 0;     //å¾—åˆ†
	var showColorRand;	
	
	var fullTime = 30; //é™å®šæ—¶é—´
	var timerBol = false;
	var clickBol = true;
	
	//gameoverå¼¹çª—å‡½æ•°
	function gg(){
		if (num<12){
			alert("æ‚¨çš„æ™ºå•†ä½çš„æ— å¯æ•‘è¯ï¼");
		}else if (num<16){
			alert("ä¸é”™å˜›ï¼Œæ™ºå•†æœ‰é•¿è¿›ï¼");
		}else if (num<20){
			alert("å°ä¼™å­çœ¼ç›å’‹æ•´çš„ï¼Ÿ");
		}else{
			alert("ğŸ˜„çœ¼ç› å­˜åœ¨æ²¡æœ‰ä»·å€¼äº†ğŸ˜„");
		}
		
	}
	
	var timer = setInterval(function (){
		if (timerBol){
			fullTime--;
			surplus.innerHTML = "å€’è®¡æ—¶ï¼š"+fullTime+"s";
			if (fullTime<=0){
				gg();
				clickBol = false;
				clearInterval(timer);
			}
		}
		
	},1000);
		
	function rand(min,max){
		return parseInt(Math.random()*(max-min))+min;
	}
		//é¢œè‰²éšæœºè®¾ç½®
	function showColor(){
		//æ³¨æ„
		showColorRand = rand(0,5);
		var showFontRand = rand(0,5);
		
		show.style.color = colors[showColorRand];
		show.innerHTML = fonts[showFontRand];
	}
	
	function sArr(){
		var arr = [];
		while(arr.length<5){
			var randN = rand(0,5);
			var bol = true;
			
			for (var i=0; i<arr.length; i++){
				if (arr[i]==randN){
					bol = false;
					break;
				}
			}
			if (bol){
				arr.push(randN);
			}
		}	
		return arr;
	}
	
	function arrRand(){
		var colorArr = sArr();
		var fontArr = sArr();
		
		for (var i=0; i<colorArr.length; i++){
			aLi[i].style.color = colors[colorArr[i]];
			aLi[i].innerHTML = fonts[fontArr[i]];
			aLi[i].fontIndex = fontArr[i];
		}
	}
	
	showColor();
	arrRand();

	//åˆ¤æ–­ç‚¹å‡»äº‹ä»¶æ­£ç¡®æ€§
	for (var i=0; i<aLi.length; i++){
		aLi[i].onclick = function (){
			if (showColorRand==this.fontIndex&&clickBol){
				timerBol = true;
				instructions.style.display = "none";
				showColor();
				arrRand();
				num++;
				score.innerHTML="åˆ†æ•°ï¼š"+num;
			}
		}
	}
</script>
</html>